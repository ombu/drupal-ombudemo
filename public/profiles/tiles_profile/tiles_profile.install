<?php

/**
 * @file
 * Install hooks for tiles_profile.profile.
 */

/**
 * Implements hook_install_tasks().
 */
function tiles_profile_install_tasks() {
  return array(
    'setup_site' => array(
      'display_name' => st('Install Site'),
      'function' => 'tiles_profile_install_task_router',
    ),
  );
}

/**
 * Routes tasks to ombucore.
 *
 * @param array $install_state
 *   An array of information about the current installation state.
 */
function tiles_profile_install_task_router($install_state) {
  $loader = ombucore_autoload();
  $loader->add('tiles_profile', DRUPAL_ROOT . '/' . drupal_get_path('profile', 'tiles_profile') . '/lib');

  $installer = new OmbuCore\Installer\Installer($install_state);
  $installer->processTasks();
}
